{"version":3,"names":[],"mappings":"","sources":["admin_browserify.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _router = require('./router');\n\n$('.multiselect').multiselect({\n  nonSelectedText: 'Выберите значение'\n});\n\n},{\"./router\":3}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar organization = exports.organization = {\n  /**\n   * Страница создания организации\n   */\n  create: function create() {\n    $('.duplicateForm').click(this._cloneFormField);\n    $('input[name=address]').on('change', this._onChangeAddress);\n  },\n\n  /**\n   * При изменении адреса парсим почтовый индекс и город\n   * @param e\n   * @private\n   */\n  _onChangeAddress: function _onChangeAddress(e) {\n    var $address = $(e.currentTarget);\n    //  если есть почтовый индекс в адресе вставляем его в соответствующее поле\n    var matches = /^(\\d+)/.exec($address.val());\n    if (matches) $('input[name=postCode]').val(matches[1]);\n\n    // ищем город и выбираем его в выпадающем списке\n    matches = /(?:місто|м\\.)\\s+([а-яїґ]+)/i.exec($address.val());\n    if (matches) {\n      var $select = $('select[name=city]');\n      var $option = $select.find('option').filter(function (key, option) {\n        return $(option).text().toLowerCase() == matches[1].toLowerCase();\n      });\n      $option.attr('selected', 'true');\n      $select.multiselect('refresh');\n    }\n  },\n\n  /**\n   * Дублирование поля ввода\n   * @param e\n   * @private\n   */\n  _cloneFormField: function _cloneFormField(e) {\n    var $parent = $(e.target.parentNode);\n    $parent.prepend($parent.find('input:first').clone().val(''));\n  }\n};\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.router = undefined;\n\nvar _organization = require('./controllers/organization');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Router =\n/**\n * Прогоняем роутфы и выполняем первый подходящий\n * @param url\n */\nfunction Router() {\n  var url = arguments.length <= 0 || arguments[0] === undefined ? window.location.pathname : arguments[0];\n\n  _classCallCheck(this, Router);\n\n  // роуты добавлять здесь\n  var rules = [[_organization.organization.create.bind(_organization.organization), /admin\\/organization\\/(create|\\d+\\/edit)$/]];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = rules[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var rule = _step.value;\n\n      if (rule[1].test(url)) {\n        if (typeof rule[0] != 'function') throw new Error('invalid route method \\'' + rule[1] + '\\'');\n        rule[0]();\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nvar router = exports.router = new Router();\n\n},{\"./controllers/organization\":2}]},{},[1]);\n"],"file":"admin_browserify.js","sourceRoot":"/source/"}